<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø£Ø³Ø¯ Ø§Ù„Ù…Ù„ÙŠÙˆÙ† Ø§Ù„Ø£Ø®ÙŠØ± - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</title>
    <style>
        /* Ø¥Ø¶Ø§ÙØ© Ø³ØªØ§ÙŠÙ„ Ø¨Ø³ÙŠØ· Ù„Ù„Ø¹Ø¯Ø§Ø¯ */
        body { background: #1a1a1a; color: gold; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; margin: 0; }
        #game-container { max-width: 500px; margin: 20px auto; border: 2px solid gold; padding: 20px; border-radius: 15px; background: #222; }
        .stat-box { display: flex; justify-content: space-around; background: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #444; }
        .action-btn { background: linear-gradient(to bottom, gold, #b8860b); color: black; border: none; padding: 15px 25px; font-weight: bold; border-radius: 8px; cursor: pointer; margin: 10px; width: 80%; transition: 0.2s; }
        .action-btn:disabled { background: #555; color: #888; cursor: not-allowed; }
        #status-msg { color: #00ff00; font-weight: bold; min-height: 24px; margin: 15px 0; }
        .hidden { display: none; }
        input { padding: 10px; border-radius: 5px; border: none; width: 60%; }
    </style>
</head>
<body>

<h1>ğŸ¦ Ø¹Ø±ÙŠÙ† Ø§Ù„Ø£Ø³Ø¯ Ø§Ù„Ù…Ù„Ùƒ</h1>

<div id="game-container">
    <div class="stat-box">
        <div>Ø§Ù„Ø°Ù‡Ø¨: <span id="balance">0</span> $LAST</div>
        <div>Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <span id="level-name">Ø´Ø¨Ù„</span></div>
    </div>

    <div id="status-msg">Ù…Ø³ØªØ¹Ø¯ Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø«Ø±ÙˆØ©ØŸ</div>

    <div id="controls">
        <button id="dig-btn" class="action-btn" onclick="startDigging()">Ø§Ø¶ØºØ· Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø­ÙØ± â›ï¸</button>
        <button id="hunt-btn" class="action-btn hidden" onclick="bossFight()">âš”ï¸ Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø²Ø¹ÙŠÙ…</button>
    </div>

    <div id="academy-box">
        <h3>ğŸ¦‰ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø¨ÙˆÙ…Ø©</h3>
        <p id="lesson">Ø§Ù„Ø¯Ø±Ø³: Ø£Ù…Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</p>
        <input type="text" id="secret-code" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ...">
        <button onclick="checkAcademyCode()" style="padding: 10px; cursor:pointer;">ØªÙØ¹ÙŠÙ„</button>
    </div>

    <div id="shop">
        <h3>ğŸ›’ Ù…ØªØ¬Ø± Ø§Ù„ØºØ§Ø¨Ø©</h3>
        <button id="buy-shield-btn" onclick="buyItem('shield', 500)" class="action-btn" style="font-size: 14px;">Ø´Ø±Ø§Ø¡ Ø¯Ø±Ø¹ Ø§Ù„ÙÙˆÙ„Ø§Ø° (500 $LAST)</button>
    </div>
    
    <button onclick="resetGame()" style="margin-top:20px; background:none; color:red; border:none; cursor:pointer; font-size:12px;">Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù„Ø¹Ø¨Ø© (Ù…Ø³Ø­ Ø§Ù„ØªÙ‚Ø¯Ù…)</button>
</div>

<script>
// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù„Ø¹Ø¨Ø©
let gameState = JSON.parse(localStorage.getItem('lionGameSave')) || {
    balance: 0,
    level: 1,
    hasShield: false,
    usedCodes: []
};

function saveGame() {
    localStorage.setItem('lionGameSave', JSON.stringify(gameState));
}

function startDigging() {
    let btn = document.getElementById('dig-btn');
    let msg = document.getElementById('status-msg');
    let timeLeft = 15;

    btn.disabled = true;
    
    let timer = setInterval(() => {
        btn.innerText = `Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ±... (${timeLeft} Ø«Ø§Ù†ÙŠØ©)`;
        timeLeft--;

        if (timeLeft < 0) {
            clearInterval(timer);
            let reward = Math.floor(Math.random() * 50) + 20;
            gameState.balance += reward;
            btn.disabled = false;
            btn.innerText = "Ø§Ø¶ØºØ· Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø­ÙØ± â›ï¸";
            msg.innerText = `Ø¹Ø§Ø´ ÙŠØ§ Ø¨Ø·Ù„! Ù„Ù‚ÙŠØª ${reward} Ø¹Ù…Ù„Ø©.`;
            saveGame();
            updateUI();
        }
    }, 1000);
}

function checkAcademyCode() {
    let codeInput = document.getElementById('secret-code');
    let code = codeInput.value.trim();

    if (gameState.usedCodes.includes(code)) {
        alert("Ø§Ø³ØªØ®Ø¯Ù…Øª Ø§Ù„ÙƒÙˆØ¯ Ø¯Ù‡ Ù‚Ø¨Ù„ ÙƒØ¯Ù‡ ÙŠØ§ Ø£Ø³Ø¯!");
        return;
    }

    if (code === "LAST2026") {
        gameState.balance += 200;
        gameState.level = Math.max(gameState.level, 2);
        gameState.usedCodes.push(code);
        document.getElementById('status-msg').innerText = "ğŸ¦‰ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙØ®ÙˆØ±Ø© Ø¨Ùƒ! ØªÙ… Ù…Ù†Ø­Ùƒ 200 Ø¹Ù…Ù„Ø©.";
        codeInput.value = "";
        saveGame();
        updateUI();
    } else {
        alert("Ø§Ù„ÙƒÙˆØ¯ ØºÙ„Ø·.. Ø±ÙƒØ² ÙÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ!");
    }
}

function buyItem(item, price) {
    if (gameState.balance >= price) {
        gameState.balance -= price;
        if (item === 'shield') gameState.hasShield = true;
        document.getElementById('status-msg').innerText = "Ù…Ø¨Ø±ÙˆÙƒ Ø§Ù„Ø¯Ø±Ø¹! Ø§Ù„ÙˆØ­ÙˆØ´ Ù‡ØªØ¹Ù…Ù„Ùƒ Ø£Ù„Ù Ø­Ø³Ø§Ø¨.";
        saveGame();
        updateUI();
    } else {
        alert("Ø°Ù‡Ø¨Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ.. Ø§Ø­ÙØ± Ø£ÙƒØªØ±!");
    }
}

function bossFight() {
    if (gameState.hasShield) {
        alert("ğŸ¦ Ù…Ø¹Ø±ÙƒØ© Ù…Ù„Ø­Ù…ÙŠØ©! Ø¨ÙØ¶Ù„ Ø§Ù„Ø¯Ø±Ø¹ Ù‡Ø²Ù…Øª Ø§Ù„Ø²Ø¹ÙŠÙ… ÙˆØµØ±Øª Ù…Ù„Ùƒ Ø§Ù„ØºØ§Ø¨Ø©!");
        gameState.level = 3;
        saveGame();
        updateUI();
    } else {
        alert("ğŸ— Ø§Ù„Ø²Ø¹ÙŠÙ… Ù‚ÙˆÙŠ Ø¬Ø¯Ø§Ù‹! Ù…Ø­ØªØ§Ø¬ Ø¯Ø±Ø¹ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø± Ø¹Ø´Ø§Ù† ØªØµÙ…Ø¯ Ù‚Ø¯Ø§Ù…Ù‡.");
    }
}

function updateUI() {
    document.getElementById('balance').innerText = gameState.balance;
    let levels = ["", "Ø´Ø¨Ù„", "Ø£Ø³Ø¯ Ø´Ø§Ø¨", "Ø§Ù„Ø£Ø³Ø¯ Ø§Ù„Ù…Ù„Ùƒ ğŸ‘‘"];
    document.getElementById('level-name').innerText = levels[gameState.level];
    
    // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø²Ø¹ÙŠÙ… Ù„Ùˆ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ù…Ù†Ø§Ø³Ø¨
    if (gameState.level >= 2) {
        document.getElementById('hunt-btn').classList.remove('hidden');
    }

    // ØªØ¹Ø·ÙŠÙ„ Ø²Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ Ù„Ùˆ Ù…Ø¹Ø§Ù‡ Ø§Ù„Ø¯Ø±Ø¹
    if (gameState.hasShield) {
        document.getElementById('buy-shield-btn').innerText = "ØªÙ…ØªÙ„Ùƒ Ø§Ù„Ø¯Ø±Ø¹ âœ…";
        document.getElementById('buy-shield-btn').disabled = true;
    }
}

function resetGame() {
    if(confirm("Ù‡ØªÙ…Ø³Ø­ ÙƒÙ„ ØªØ¹Ø¨ÙƒØŸ")) {
        localStorage.removeItem('lionGameSave');
        location.reload();
    }
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
updateUI();
</script>

</body>
</html>
