<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>The LAST Million | Ø§Ù„Ø¹Ø±ÙŠÙ†</title>
    <style>
        :root { --gold: #ffd700; --dark: #121212; }
        body { background: var(--dark); color: var(--gold); font-family: 'Cairo', sans-serif; text-align: center; margin: 0; overflow: hidden; }
        
        /* Ø§Ù„Ø´Ø¹Ø§Ø± (Logo Section) */
        #logo-container { padding: 20px; font-size: 24px; font-weight: bold; border-bottom: 1px solid #333; }
        
        /* Ù…Ø³Ø±Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (Cinematic Stage) */
        #stage { height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; }
        #lion-sprite { width: 250px; transition: 0.3s; z-index: 2; }
        #owl-guide { position: absolute; top: 10px; left: 10px; width: 80px; cursor: pointer; animation: float 3s infinite; }
        
        /* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†ÙÙÙØ³ (Mining Progress) */
        #mining-zone { padding: 20px; }
        .progress-box { width: 80%; height: 25px; background: #222; border-radius: 15px; margin: 10px auto; border: 1px solid var(--gold); overflow: hidden; display: none; }
        #fill { width: 0%; height: 100%; background: linear-gradient(90deg, #ffd700, #ff4500); }

        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .shake { animation: shake-act 0.2s infinite; }
        @keyframes shake-act { 0% { transform: translate(1px); } 50% { transform: translate(-2px); } 100% { transform: translate(1px); } }
    </style>
</head>
<body>

    <div id="logo-container">ğŸ¦ Ø´Ø¹Ø§Ø± $LAST | Ø§Ù„Ø¹Ø±ÙŠÙ† Ø§Ù„Ù…Ù„ÙƒÙŠ</div>

    <div id="stage">
        <img id="owl-guide" src="owl_avatar.png" onclick="startLesson()" title="Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ù€ Web3">
        
        <img id="lion-sprite" src="shibl_avatar.png">
        
        <div id="mining-zone">
            <div id="status">Ø§Ù„Ø±ØµÙŠØ¯: <span id="balance">0</span> ØºØ¨Ø§Ø± $LAST</div>
            <div id="target-info">Ø§Ù„ÙØ±ÙŠØ³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: <span id="prey">Ø£Ø±Ù†Ø¨ ğŸ°</span></div>
            <div class="progress-box" id="p-box"><div id="fill"></div></div>
            <h3 id="timer-text">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø­ÙØ±ØŸ</h3>
            <button id="mine-btn" onclick="executeMining()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø­ÙØ± (15Ø«)</button>
        </div>
    </div>

    <div id="admin-panel" style="background: #1a1a1a; padding: 10px; font-size: 12px; border-top: 1px solid #333;">
        Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆØ¹Ø§Ø¡: <span id="pool">0</span> / 250,000 | Ø§Ù„ØµÙŠØ§Ø¯: <span style="color:red">Ù…Ø±ØµÙˆØ¯ ğŸ¯</span>
    </div>

<script>
    // --- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±ÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ---
    let user = {
        level: "shibl",
        balance: 0,
        miningTime: 15, // ÙˆÙ‚Øª Ø§Ù„Ø´Ø¨Ù„
        lessonsCompleted: 0,
        gateUnlocked: false
    };

    // --- Ø£ØµÙˆØ§Øª Ø§Ù„ØºØ§Ø¨Ø© Ø§Ù„Ù…ØªÙØ§Ø¹Ù„Ø© ---
    const forestAmbiance = new Audio('forest.mp3');
    const digSound = new Audio('dig.mp3');

    function executeMining() {
        if (user.gateUnlocked) user.miningTime = 5; // Ù„Ùˆ Ø§Ù„Ø£Ø³Ø¯ ÙƒØ¨Ø± Ù†ÙÙÙØ³Ù‡ Ø¨ÙŠÙ‚ÙˆÙ‰
        
        document.getElementById('mine-btn').disabled = true;
        document.getElementById('p-box').style.display = 'block';
        document.getElementById('lion-sprite').classList.add('shake');
        
        let timeLeft = user.miningTime;
        let interval = setInterval(() => {
            timeLeft--;
            let percent = ((user.miningTime - timeLeft) / user.miningTime) * 100;
            document.getElementById('fill').style.width = percent + '%';
            document.getElementById('timer-text').innerText = `Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØºØ¨Ø§Ø±... ${timeLeft}Ø«`;

            if (timeLeft <= 0) {
                clearInterval(interval);
                finalizeMining();
            }
        }, 1000);
    }

    function finalizeMining() {
        user.balance += 10;
        document.getElementById('balance').innerText = user.balance;
        document.getElementById('mine-btn').disabled = false;
        document.getElementById('lion-sprite').classList.remove('shake');
        document.getElementById('timer-text').innerText = "ØªÙ… Ø§Ù„ØµÙŠØ¯! Ø¬Ù…Ø¹Øª Ø§Ù„ØºØ¨Ø§Ø± âœ¨";
        
        if(user.balance >= 100) evolveToLion(); // Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù‚Ø±Ø¯ ÙˆØ§Ù„Ø®Ù†Ø²ÙŠØ±
    }

    function startLesson() {
        alert("ğŸ¦‰ Ø§Ù„Ø¨ÙˆÙ…Ø©: Ù‡Ù„ ØªØ¹Ù„Ù… Ø£Ù† Ø§Ù„Ù€ Web3 ÙŠØ¹Ù†ÙŠ Ø£Ù†Ùƒ ØªÙ…ØªÙ„Ùƒ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆÙ„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ 'Ø§Ù„ØµÙŠØ§Ø¯' Ø³Ø±Ù‚ØªÙ‡Ø§ØŸ");
        user.lessonsCompleted++;
    }

    function evolveToLion() {
        if (!user.gateUnlocked) {
            alert("ğŸ”¥ Ø§Ù„ØµÙŠØ§Ø¯ ÙˆÙƒÙ„Ø§Ø¨Ù‡ Ù‡Ø¬Ù…ÙˆØ§! Ø§Ù„Ø£Ø³Ø¯ ÙƒØ¨Ø± ÙˆÙØªØ­ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø³Ø­Ø±ÙŠØ©.. Ø§Ù„Ù‚Ø±Ø¯ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±Ùƒ!");
            document.getElementById('lion-sprite').src = "lion_king.png";
            document.getElementById('prey').innerText = "Ø®Ù†Ø²ÙŠØ± Ø¨Ø±ÙŠ ğŸ—";
            user.gateUnlocked = true;
            user.miningTime = 5; // Ø§Ù„Ù†ÙÙÙØ³ Ø²Ø§Ø¯ ÙˆØ§Ù„ÙˆÙ‚Øª Ù‚Ù„
        }
    }
</script>
</body>
</html>
