<!DOCTYPE html>
 <html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¦ Last Empire | Ø§Ù„Ø¹Ø±ÙŠÙ†</title>
    <style>
        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ù…ØªØºÙŠØ± */
        :root { --glow: gold; }
        body { margin: 0; transition: 2s; font-family: 'Arial', sans-serif; overflow: hidden; height: 100vh; display: flex; align-items: center; justify-content: center; background: #05050a; }
        
        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù„ÙŠÙ„ ÙˆØ§Ù„Ù†Ù‡Ø§Ø± */
        .night { background: radial-gradient(circle, #1a1a2e 0%, #05050a 100%); }
        .day { background: radial-gradient(circle, #2d5a27 0%, #0a2205 100%); }

        #game-box { width: 90%; max-width: 400px; padding: 25px; border-radius: 40px; border: 4px solid var(--glow); background: rgba(0,0,0,0.85); text-align: center; position: relative; box-shadow: 0 0 30px rgba(212, 175, 55, 0.3); }

        /* Ø§Ù„Ø£Ø³Ø¯ Ø§Ù„Ù…ØªÙ†ÙØ³ */
        .lion-wrapper { position: relative; margin: 20px auto; width: 150px; }
        #lion-img { width: 100%; filter: drop-shadow(0 0 15px gold); transition: 0.5s; animation: breathe 4s infinite ease-in-out; }
        
        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.08); opacity: 1; }
        }

        /* ÙÙ‚Ø§Ø¹Ø© Ø§Ù„ÙƒÙ„Ø§Ù… */
        #speech { position: absolute; top: -50px; left: 50%; transform: translateX(-50%); background: white; color: black; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 13px; display: none; border: 2px solid gold; white-space: nowrap; z-index: 10; }

        .stats { background: #111; padding: 15px; border-radius: 20px; margin: 15px 0; border: 1px solid #333; }
        .action-btn { width: 100%; padding: 15px; border-radius: 15px; border: none; background: linear-gradient(45deg, #d4af37, #b8860b); color: white; font-weight: bold; font-size: 18px; cursor: pointer; margin-top: 10px; }
        
        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†ØµØ± */
        #victory { position: fixed; top: 40%; left: 50%; transform: translate(-50%, -50%); color: gold; font-size: 45px; font-weight: bold; text-shadow: 0 0 20px black; display: none; z-index: 100; animation: victoryAnim 2s ease-out; }
        @keyframes victoryAnim { 0% { opacity: 0; scale: 0.5; } 100% { opacity: 1; scale: 1.2; } }
    </style>
</head>
<body class="night">

<div id="victory">Ø§Ù„Ø­ÙØ± Ù„Ø§ ÙŠÙÙ‡Ø² !</div>

<div id="game-box">
    <div class="lion-wrapper">
        <div id="speech">Ø§Ù„Ø­ÙØ± Ù„Ø§ ÙŠÙÙ‡Ø²!</div>
        <img id="lion-img" src="https://cdn-icons-png.flaticon.com/512/616/616412.png">
    </div>

    <div class="stats">
        ğŸ’° Ø§Ù„Ø°Ù‡Ø¨: <span id="gold">0</span> | ğŸ¦ Ø§Ù„Ø±ØªØ¨Ø©: <span id="rank">Ø´Ø¨Ù„</span>
    </div>

    <div id="msg" style="color: #aaa; font-size: 14px; height: 20px;">Ø£ØµÙˆØ§Øª Ø§Ù„ØºØ§Ø¨Ø© Ù…Ø±Ø¹Ø¨Ø© Ø­ÙˆÙ„Ùƒ...</div>

    <button class="action-btn" onclick="mineGold()">â›ï¸ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø­ÙØ± ÙÙŠ Ø§Ù„Ø¹Ø±ÙŠÙ†</button>
    
    <div id="academy" style="margin-top: 20px; font-size: 12px; opacity: 0.6;">
        <input type="text" id="code" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©..." style="background:none; border:1px solid gold; color:gold; padding:5px; border-radius:5px; width:60%">
        <button onclick="activateLevel()" style="background:gold; border:none; border-radius:5px; cursor:pointer">OK</button>
    </div>
</div>

<script>
    let player = { gold: 0, level: 1, isMining: false };

    // Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø¨Ø¶ Ø§Ù„Ù…ØªØºÙŠØ±
    function setHeartbeat(speed) {
        document.getElementById('lion-img').style.animationDuration = speed;
    }

    function lionSpeak(text) {
        const bubble = document.getElementById('speech');
        bubble.innerText = text;
        bubble.style.display = 'block';
        setTimeout(() => bubble.style.display = 'none', 3000);
    }

    function mineGold() {
        if(player.isMining) return;
        player.isMining = true;
        
        setHeartbeat('0.6s'); // Ø§Ù„Ø£Ø³Ø¯ Ø¨ÙŠÙ†Ù‡Ø¬ ÙˆÙ‡Ùˆ Ø¨ÙŠØ­ÙØ±
        document.getElementById('msg').innerText = "Ø§Ù„Ø£Ø³Ø¯ ÙŠØ¨Ø°Ù„ Ù…Ø¬Ù‡ÙˆØ¯Ø§Ù‹ ÙÙŠ Ø§Ù„Ø­ÙØ±...";

        setTimeout(() => {
            let found = Math.floor(Math.random() * 20) + 5;
            player.gold += found;
            document.getElementById('gold').innerText = player.gold;
            document.getElementById('msg').innerText = `ÙˆØ¬Ø¯ Ø§Ù„Ø£Ø³Ø¯ ${found} Ø¹Ù…Ù„Ø© Ø°Ù‡Ø¨ÙŠØ©!`;
            setHeartbeat('4s'); // Ø±Ø¬ÙˆØ¹ Ø§Ù„Ù†ÙØ³ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ
            player.isMining = false;

            // ÙØ±ØµØ© Ø¸Ù‡ÙˆØ± Ø§Ù„ØµÙŠØ§Ø¯
            if(Math.random() < 0.25) hunterAttack();
        }, 3000);
    }

    function hunterAttack() {
        setHeartbeat('0.3s'); // Ù†Ø¨Ø¶ Ø±Ø¹Ø¨
        lionSpeak("âš ï¸ Ø±Ø§Ø¦Ø­Ø© Ø§Ù„ÙƒÙ„Ø§Ø¨!");
        document.getElementById('game-box').style.borderColor = "red";
        
        setTimeout(() => {
            player.gold = Math.max(0, player.gold - 15);
            document.getElementById('gold').innerText = player.gold;
            document.getElementById('msg').innerText = "Ø§Ù„ØµÙŠØ§Ø¯ Ø³Ø±Ù‚ Ù…Ù†Ùƒ Ø¨Ø¹Ø¶ Ø§Ù„Ø°Ù‡Ø¨!";
            document.getElementById('game-box').style.borderColor = "gold";
            setHeartbeat('4s');
        }, 2000);
    }

    function activateLevel() {
        if(document.getElementById('code').value === "LAST2026") {
            player.level = 2;
            document.body.className = "day"; // Ø§Ù„Ø´Ù…Ø³ ØªØ´Ø±Ù‚
            document.getElementById('rank').innerText = "Ø£Ø³Ø¯ Ù…Ù„Ùƒ";
            document.getElementById('victory').style.display = "block";
            lionSpeak("Ù„Ù‚Ø¯ Ø£ØµØ¨Ø­Øª Ù…Ù„ÙƒØ§Ù‹ Ù„Ù„ØºØ§Ø¨Ø©!");
            setTimeout(() => document.getElementById('victory').style.display = "none", 2500);
        }
    }
</script>

</body>
</html>
